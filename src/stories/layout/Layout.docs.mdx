import { Meta } from '@storybook/addon-docs/blocks';

<Meta  title="Layout/–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React Router" />

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React Router (v6+)

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã `LayoutMenu` –≤–º–µ—Å—Ç–µ —Å `react-router-dom`.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `useNavigate()` –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤;
- —á–∏—Ç–∞–µ—Ç `location.pathname` –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞;
- —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–µ–∞–ª—å–Ω–æ–µ –ª–µ–≤–æ–µ –º–µ–Ω—é –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

### –í–ê–ñ–ù–û
 –∫–ª—é—á –≤ `menuConfig` –∏ routePath –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å –ø–æ –∏–º–µ–Ω–∏. `key: 'test'` `routePath: '/test'`

### App.tsx

```tsx
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import LayoutComponent from './LayoutComponent';

// –°—Ç—Ä–∞–Ω–∏—Ü—ã
const Dashboard = () => <h2>–î–∞—à–±–æ—Ä–¥</h2>;
const Users = () => <h2>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>;
const Profile = () => <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>;
const Security = () => <h2>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>;

export const App = () => (
  <BrowserRouter>
    <Routes>
      {/* –û–±—ë—Ä—Ç—ã–≤–∞–µ–º –≤—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ/–æ—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤ LayoutComponent */}
      <Route path="/" element={<LayoutComponent />}>
        <Route index element={<Dashboard />} />
        <Route path="dashboard" element={<Dashboard />} />
        <Route path="users" element={<Users />} />
        <Route path="settings/profile" element={<Profile />} />
        <Route path="settings/security" element={<Security />} />
      </Route>
    </Routes>
  </BrowserRouter>
);
```
### Layout.tsx
```tsx
import { Layout } from 'antd';
import { Layout as LayoutUi } from 'isp-ui-kit';
import { useState } from 'react';
import { Outlet, useLocation, useNavigate } from 'react-router-dom';

// –ú–µ–Ω—é ‚Äî –≤—ã–Ω–µ—Å–µ–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ –∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è
const menuConfig = [
  { key: '/dashboard', label: '–î–∞—à–±–æ—Ä–¥', permissions: [] },
  { key: '/users', label: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏', permissions: [] },
  {
    key: '/settings',
    label: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏',
    permissions: [],
    children: [
      { key: '/settings/profile', label: '–ü—Ä–æ—Ñ–∏–ª—å', permissions: [] },
      { key: '/settings/security', label: '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å', permissions: [] },
    ],
  },
];

const { Content } = Layout;
const { LayoutSider, LayoutMenu } = LayoutUi;

function LayoutComponent() {
  const [collapsed, setCollapsed] = useState(false);
  const navigate = useNavigate();
  const location = useLocation();

  const handleItemChange = ({ key }: { key: string }) => {
    navigate(key);
  };

  return (
    <Layout className="layout" data-cy="homePage" style={{ minHeight: '100vh' }}>
      <LayoutSider
        collapsed={collapsed}
        onCollapse={(value) => setCollapsed(value)}
      >
        <LayoutMenu
          currentPath={location.pathname}
          onClickItem={handleItemChange}
          onHideMenuItem={() => false}
          menuConfig={menuConfig}
        />
      </LayoutSider>
      <Layout className="site-layout" style={{ marginLeft: collapsed ? 80 : 260 }}>
        <Content className="site-layout__content" style={{ padding: '24px' }}>
          <Outlet />
        </Content>
      </Layout>
    </Layout>
  );
}

export default LayoutComponent;
```
